<h2 class="mb-4">Редактирование заявки</h2>

<form action="/edit" method="POST" class="row g-3">
  <input type="hidden" name="id" value="{{request.id}}">

  <div class="col-md-6">
    <label for="title" class="form-label">Название товара</label>
    <input type="text" id="title" name="title" class="form-control" value="{{request.title}}" required>
  </div>

  <div class="col-md-3">
    <label for="quantity" class="form-label">Количество</label>
    <input type="number" id="quantity" name="quantity" class="form-control" min="1" value="{{request.quantity}}" required>
  </div>

  <div class="col-md-3">
    <label for="price" class="form-label">Цена за единицу</label>
    <input type="number" id="price" name="price" class="form-control" min="0" step="0.01" value="{{request.price}}" required>
  </div>

  <div class="col-12">
    <label for="link" class="form-label">Ссылка на товар</label>
    <input type="url" id="link" name="link" class="form-control" value="{{request.link}}" required>
  </div>

  <div class="col-md-6">
    <label for="desired_date" class="form-label">Желаемая дата доставки</label>
    <input type="date" id="desired_date" name="desired_date" class="form-control" value="{{request.desired_date}}" required>
  </div>

  <div class="col-12">
    <button type="submit" class="btn btn-primary">Сохранить изменения</button>
    <a href="/" class="btn btn-secondary ms-2">Отмена</a>
  </div>
</form>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const input = document.getElementById('desired_date');
    const today = new Date().toISOString().split('T')[0];
    input.min = today;
  });
</script>
